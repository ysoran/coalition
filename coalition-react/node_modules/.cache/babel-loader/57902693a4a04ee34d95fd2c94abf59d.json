{"ast":null,"code":"var _jsxFileName = \"/Users/yasarsoran/Documents/coalition-project/coalition-react/src/components/sign-up/sign-up.tsx\";\nimport React, { useState } from 'react';\nimport { Button, Grid, TextField } from '@material-ui/core';\nimport axios from 'axios';\nimport styled from 'styled-components';\nconst StyledInformation = styled.div`\n    padding: 20px;\n    border: 1px solid #aaa;\n    text-align: left;\n    background-color:#eee;\n`;\nconst StyledContainer = styled.div`\n    padding:30px;\n`;\nconst StyledWarning = styled.div`\n    padding:20px;\n    border: 1px solid #aaa;\n    background-color: orange;\n`;\n\nconst SignUp = props => {\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [email, setEmail] = useState('');\n  const [address, setAddress] = useState('');\n  const [signuptried, setSignuptried] = useState(false);\n  const [fieldsWarning, setFieldsWarning] = useState('');\n\n  const validateFields = () => {\n    let isValid = true;\n    [firstname, lastname, email, address].forEach(each => {\n      if (!each || each === '') {\n        isValid = false;\n        setFieldsWarning('Please make sure you filled all fields');\n      }\n    });\n    if (!isValid) return isValid;\n\n    if (!/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(email)) {\n      isValid = false;\n      setFieldsWarning('Please enter a valid email address');\n      return isValid;\n    }\n\n    return isValid;\n  };\n\n  const handleClick = () => {\n    setSignuptried(true);\n\n    if (validateFields()) {\n      const headers = {\n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      };\n      axios.post(\"http://127.0.0.1:5000/broker\", JSON.stringify({\n        variables: {\n          agency_id: 1,\n          firstname: firstname,\n          lastname: lastname,\n          email: email,\n          broker_address: address\n        }\n      }), {\n        headers\n      }).then(response => {\n        if (!response.data.error) props.changeTab(1);else setFieldsWarning(response.data.error);\n      });\n    }\n  };\n\n  const handleChangeFirstname = e => {\n    signuptried && validateFields();\n    setFirstname(e.target.value);\n  };\n\n  const handleChangeLastname = e => {\n    signuptried && validateFields();\n    setLastname(e.target.value);\n  };\n\n  const handleChangeEmail = e => {\n    signuptried && validateFields();\n    setEmail(e.target.value);\n  };\n\n  const handleChangeAddress = e => {\n    signuptried && validateFields();\n    setAddress(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(StyledContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    md: 12,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, fieldsWarning && fieldsWarning !== '' ? /*#__PURE__*/React.createElement(StyledWarning, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 72\n    }\n  }, fieldsWarning) : /*#__PURE__*/React.createElement(StyledInformation, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 34\n    }\n  }, \"Please fill the form below to sign up\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleChangeFirstname,\n    required: true,\n    id: \"firstname\",\n    label: \"Firstname\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleChangeLastname,\n    required: true,\n    id: \"lastname\",\n    label: \"Lastname\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleChangeEmail,\n    required: true,\n    id: \"email\",\n    label: \"Email\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    md: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    onChange: handleChangeAddress,\n    required: true,\n    id: \"address\",\n    label: \"Address\",\n    helperText: \"Enter your address on one line\",\n    fullWidth: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    item: true,\n    xs: 12,\n    justify: \"flex-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"contained\",\n    color: \"primary\",\n    onClick: handleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 29\n    }\n  }, \"Sign Up\"))))));\n};\n\nexport default SignUp;","map":{"version":3,"sources":["/Users/yasarsoran/Documents/coalition-project/coalition-react/src/components/sign-up/sign-up.tsx"],"names":["React","useState","Button","Grid","TextField","axios","styled","StyledInformation","div","StyledContainer","StyledWarning","SignUp","props","firstname","setFirstname","lastname","setLastname","email","setEmail","address","setAddress","signuptried","setSignuptried","fieldsWarning","setFieldsWarning","validateFields","isValid","forEach","each","test","handleClick","headers","post","JSON","stringify","variables","agency_id","broker_address","then","response","data","error","changeTab","handleChangeFirstname","e","target","value","handleChangeLastname","handleChangeEmail","handleChangeAddress"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Button, Grid, TextField } from '@material-ui/core';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\ninterface ICreateUserProps {\n    changeTab: (active: any) => void;\n}\n\nconst StyledInformation = styled.div`\n    padding: 20px;\n    border: 1px solid #aaa;\n    text-align: left;\n    background-color:#eee;\n`;\n\nconst StyledContainer = styled.div`\n    padding:30px;\n`;\n\nconst StyledWarning = styled.div`\n    padding:20px;\n    border: 1px solid #aaa;\n    background-color: orange;\n`;\n\nconst SignUp = (props: ICreateUserProps) => {\n    const [firstname, setFirstname] = useState('');\n    const [lastname, setLastname] = useState('');\n    const [email, setEmail] = useState('');\n    const [address, setAddress] = useState('');\n    const [signuptried, setSignuptried] = useState(false);\n    const [fieldsWarning, setFieldsWarning] = useState('');\n\n    const validateFields = () => {\n        let isValid = true;\n        [firstname, lastname, email, address].forEach(\n            (each) => {\n                if (!each || each === '') {\n                    isValid = false;\n                    setFieldsWarning('Please make sure you filled all fields');\n                }\n            }\n        );\n\n        if (!isValid) return isValid;\n\n        if (!/^[a-zA-Z0-9]+@[a-zA-Z0-9]+\\.[A-Za-z]+$/.test(email)) {\n            isValid = false;\n            setFieldsWarning('Please enter a valid email address');\n            return isValid;\n        }\n\n        return isValid;\n    }\n\n    const handleClick = () => {\n        setSignuptried(true);\n        if (validateFields()) {\n            const headers = {\n                'Content-Type': 'application/json',\n                'Access-Control-Allow-Origin': '*'\n            };\n            axios.post(\"http://127.0.0.1:5000/broker\", JSON.stringify({\n                variables: {\n                    agency_id: 1,\n                    firstname: firstname,\n                    lastname: lastname,\n                    email: email,\n                    broker_address: address\n                }\n            }), { headers }).then((response) => {\n                if (!response.data.error)\n                    props.changeTab(1);\n                else\n                    setFieldsWarning(response.data.error);\n            });\n        }\n    }\n\n    const handleChangeFirstname = (e: any) => {\n        signuptried && validateFields();\n        setFirstname(e.target.value);\n    }\n\n    const handleChangeLastname = (e: any) => {\n        signuptried && validateFields();\n        setLastname(e.target.value);\n    }\n\n    const handleChangeEmail = (e: any) => {\n        signuptried && validateFields();\n        setEmail(e.target.value);\n    }\n\n    const handleChangeAddress = (e: any) => {\n        signuptried && validateFields();\n        setAddress(e.target.value);\n    }\n\n\n    return (\n        <div>\n            <React.Fragment>\n                <StyledContainer>\n                    <Grid container spacing={3}>\n                        <Grid item md={12}>\n                            {(fieldsWarning && fieldsWarning !== '') ? <StyledWarning>{fieldsWarning}</StyledWarning> :\n                                (<StyledInformation>Please fill the form below to sign up</StyledInformation>)}\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField onChange={handleChangeFirstname} required id=\"firstname\" label=\"Firstname\" fullWidth />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField onChange={handleChangeLastname} required id=\"lastname\" label=\"Lastname\" fullWidth />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                onChange={handleChangeEmail}\n                                required\n                                id=\"email\"\n                                label=\"Email\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                onChange={handleChangeAddress}\n                                required\n                                id=\"address\"\n                                label=\"Address\"\n                                helperText=\"Enter your address on one line\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid container item xs={12} justify=\"flex-end\">\n                            <Button variant=\"contained\" color=\"primary\" onClick={handleClick}>\n                                Sign Up\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </StyledContainer>\n            </React.Fragment>\n        </div>\n    );\n}\n\nexport default SignUp;"]},"metadata":{},"sourceType":"module"}